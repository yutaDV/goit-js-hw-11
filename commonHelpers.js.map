{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nconst API_KEY = '44507065-2e810e6cd55f29a257fa3dc75';\n\nexport function fetchImages(query) {\n  const url = `https://pixabay.com/api/?key=${API_KEY}&q=${encodeURIComponent(query)}&image_type=photo&orientation=horizontal&safesearch=true`;\n\n  return fetch(url)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error('Network response was not ok');\n      }\n      return response.json();\n    })\n    .then(data => {\n      return data;\n    })\n    .catch(error => {\n      console.error('Fetch error: ', error);\n      throw error;\n    });\n}\n","\n\n\nexport function renderImages(images, lightbox) {\n  const gallery = document.getElementById('gallery');\n  \n  // Створення проміжної змінної для зберігання розмітки\n  let markup = images.map(image => createImageCard(image)).join('');\n\n  // Додавання розмітки до галереї\n  gallery.innerHTML = markup;\n\n  lightbox.refresh();\n}\n\n\nfunction createImageCard(image) {\n  return `\n  <div class=\"gallery-item-container\">  \n  <a href=\"${image.largeImageURL}\" class=\"gallery-item\">\n      <img src=\"${image.webformatURL}\" alt=\"${image.tags}\" title=\"${image.tags}\" loading=\"lazy\" />\n      <div class=\"info\">\n        <p><span>Likes:</span> ${image.likes}</p>\n        <p><span>Views:</span> ${image.views}</p>\n        <p><span>Comments:</span> ${image.comments}</p>\n        <p><span>Downloads:</span> ${image.downloads}</p>\n      </div>\n    </a>\n  </div>\n  `;\n}\n\nexport function showLoader() {\n  const loader = document.getElementById('loader');\n  loader.style.display = 'block';\n}\n\nexport function hideLoader() {\n  const loader = document.getElementById('loader');\n  loader.style.display = 'none';\n}\n","\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { fetchImages } from './js/pixabay-api';\nimport { renderImages, showLoader, hideLoader } from './js/render-functions';\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n  captions: true,\n  captionSelector: 'img',\n  captionType: 'attr',\n  captionsData: 'title',\n  captionPosition: 'bottom',\n  captionDelay: 250,\n  animationSpeed: 250,\n  fadeSpeed: 300,\n  close: true,\n  showCounter: true,\n});\n\nconst form = document.getElementById('search-form');\nconst searchInput = document.getElementById('search-input');\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n  const query = searchInput.value.trim();\n  \n  if (!query) {\n    iziToast.error({ title: 'Error', message: 'Please enter a search query.' });\n    return;\n  }\n\n  showLoader();\n\n  fetchImages(query)\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.warning({ title: 'No Results', message: 'Sorry, there are no images matching your search query. Please try again!' });\n      } else {\n        renderImages(data.hits, lightbox);\n        searchInput.value = '';\n      }\n    })\n    .catch(error => {\n      iziToast.error({ title: 'Error', message: 'An error occurred while fetching images.' });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n});\n"],"names":["API_KEY","fetchImages","query","url","response","data","error","renderImages","images","lightbox","gallery","markup","image","createImageCard","showLoader","loader","hideLoader","SimpleLightbox","form","searchInput","event","iziToast"],"mappings":"wvBACA,MAAMA,EAAU,qCAET,SAASC,EAAYC,EAAO,CACjC,MAAMC,EAAM,gCAAgCH,CAAO,MAAM,mBAAmBE,CAAK,CAAC,2DAElF,OAAO,MAAMC,CAAG,EACb,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,6BAA6B,EAE/C,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GACGA,CACR,EACA,MAAMC,GAAS,CACd,cAAQ,MAAM,gBAAiBA,CAAK,EAC9BA,CACZ,CAAK,CACL,CCjBO,SAASC,EAAaC,EAAQC,EAAU,CAC7C,MAAMC,EAAU,SAAS,eAAe,SAAS,EAGjD,IAAIC,EAASH,EAAO,IAAII,GAASC,EAAgBD,CAAK,CAAC,EAAE,KAAK,EAAE,EAGhEF,EAAQ,UAAYC,EAEpBF,EAAS,QAAO,CAClB,CAGA,SAASI,EAAgBD,EAAO,CAC9B,MAAO;AAAA;AAAA,aAEIA,EAAM,aAAa;AAAA,kBACdA,EAAM,YAAY,UAAUA,EAAM,IAAI,YAAYA,EAAM,IAAI;AAAA;AAAA,iCAE7CA,EAAM,KAAK;AAAA,iCACXA,EAAM,KAAK;AAAA,oCACRA,EAAM,QAAQ;AAAA,qCACbA,EAAM,SAAS;AAAA;AAAA;AAAA;AAAA,GAKpD,CAEO,SAASE,GAAa,CAC3B,MAAMC,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,OACzB,CAEO,SAASC,GAAa,CAC3B,MAAMD,EAAS,SAAS,eAAe,QAAQ,EAC/CA,EAAO,MAAM,QAAU,MACzB,CC9BA,IAAIN,EAAW,IAAIQ,EAAe,aAAc,CAC9C,SAAU,GACV,gBAAiB,MACjB,YAAa,OACb,aAAc,QACd,gBAAiB,SACjB,aAAc,IACd,eAAgB,IAChB,UAAW,IACX,MAAO,GACP,YAAa,EACf,CAAC,EAED,MAAMC,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAc,SAAS,eAAe,cAAc,EAE1DD,EAAK,iBAAiB,SAAWE,GAAU,CACzCA,EAAM,eAAc,EACpB,MAAMlB,EAAQiB,EAAY,MAAM,KAAI,EAEpC,GAAI,CAACjB,EAAO,CACVmB,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,8BAA8B,CAAE,EAC1E,MACD,CAEDP,IAEAb,EAAYC,CAAK,EACd,KAAKG,GAAQ,CACRA,EAAK,KAAK,SAAW,EACvBgB,EAAS,QAAQ,CAAE,MAAO,aAAc,QAAS,0EAA0E,CAAE,GAE7Hd,EAAaF,EAAK,KAAMI,CAAQ,EAChCU,EAAY,MAAQ,GAE5B,CAAK,EACA,MAAMb,GAAS,CACde,EAAS,MAAM,CAAE,MAAO,QAAS,QAAS,0CAA0C,CAAE,CAC5F,CAAK,EACA,QAAQ,IAAM,CACbL,GACN,CAAK,CACL,CAAC"}